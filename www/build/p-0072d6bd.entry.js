import{r as i,h as e}from"./p-a0aececd.js";import"./p-d34b8ceb.js";import"./p-7261e130.js";import{t as s}from"./p-ad4e3420.js";const l=class{constructor(e){i(this,e),this.streams=[]}async componentWillLoad(){this.id=new URL(window.location.href).searchParams.get("id");let i=await fetch("http://104.43.21.203:1337/teachers/"+this.id);this.schoolDetails=await i.json(),this.resValue=this.schoolDetails.school_available_subject,console.log(this.resValue);let e=window.localStorage.getItem("user_details"),s=JSON.parse(e);this.student_name=s[0].s_name,this.logo=s[0].s_image}selSub(i,e,s){switch(e){case"firstLang":this.firstLang=s;break;case"secLang":this.secLang=s;break;case"science1":if("false"==i.target.ariaChecked){i.target.classList.add("radio-checked"),this.set1row1=s,i.target.ariaChecked="true";break}if("true"==i.target.ariaChecked){i.target.classList.remove("radio-checked"),this.set1row1="",i.target.ariaChecked="false";break}case"science2":if("false"==i.target.ariaChecked){i.target.classList.add("radio-checked"),this.set1row2=s,i.target.ariaChecked="true";break}if("true"==i.target.ariaChecked){i.target.classList.remove("radio-checked"),this.set1row2="",i.target.ariaChecked="false";break}case"science3":if("false"==i.target.ariaChecked){i.target.classList.add("radio-checked"),this.set1row3=s,i.target.ariaChecked="true";break}if("true"==i.target.ariaChecked){i.target.classList.remove("radio-checked"),this.set1row3="",i.target.ariaChecked="false";break}case"science4":if("false"==i.target.ariaChecked){i.target.classList.add("radio-checked"),this.set1row4=s,i.target.ariaChecked="true";break}if("true"==i.target.ariaChecked){i.target.classList.remove("radio-checked"),this.set1row4="",i.target.ariaChecked="false";break}case"science5":if("false"==i.target.ariaChecked){i.target.classList.add("radio-checked"),this.set1row5=s,i.target.ariaChecked="true";break}if("true"==i.target.ariaChecked){i.target.classList.remove("radio-checked"),this.set1row5="",i.target.ariaChecked="false";break}case"science6":if("false"==i.target.ariaChecked){i.target.classList.add("radio-checked"),this.set1row6=s,i.target.ariaChecked="true";break}if("true"==i.target.ariaChecked){i.target.classList.remove("radio-checked"),this.set1row6="",i.target.ariaChecked="false";break}case"commerce1":if("false"==i.target.ariaChecked){i.target.classList.add("radio-checked"),this.set2row1=s,i.target.ariaChecked="true";break}if("true"==i.target.ariaChecked){i.target.classList.remove("radio-checked"),this.set2row1="",i.target.ariaChecked="false";break}case"commerce2":if("false"==i.target.ariaChecked){i.target.classList.add("radio-checked"),this.set2row2=s,i.target.ariaChecked="true";break}if("true"==i.target.ariaChecked){i.target.classList.remove("radio-checked"),this.set2row2="",i.target.ariaChecked="false";break}case"commerce3":if("false"==i.target.ariaChecked){i.target.classList.add("radio-checked"),this.set2row3=s,i.target.ariaChecked="true";break}if("true"==i.target.ariaChecked){i.target.classList.remove("radio-checked"),this.set2row3="",i.target.ariaChecked="false";break}case"commerce4":if("false"==i.target.ariaChecked){i.target.classList.add("radio-checked"),this.set2row4=s,i.target.ariaChecked="true";break}if("true"==i.target.ariaChecked){i.target.classList.remove("radio-checked"),this.set2row4="",i.target.ariaChecked="false";break}case"commerce5":if("false"==i.target.ariaChecked){i.target.classList.add("radio-checked"),this.set2row5=s,i.target.ariaChecked="true";break}if("true"==i.target.ariaChecked){i.target.classList.remove("radio-checked"),this.set2row5="",i.target.ariaChecked="false";break}case"commerce6":if("false"==i.target.ariaChecked){i.target.classList.add("radio-checked"),this.set2row6=s,i.target.ariaChecked="true";break}if("true"==i.target.ariaChecked){i.target.classList.remove("radio-checked"),this.set2row6="",i.target.ariaChecked="false";break}case"arts1":if("false"==i.target.ariaChecked){i.target.classList.add("radio-checked"),this.set3row1=s,i.target.ariaChecked="true";break}if("true"==i.target.ariaChecked){i.target.classList.remove("radio-checked"),this.set3row1="",i.target.ariaChecked="false";break}case"arts2":if("false"==i.target.ariaChecked){i.target.classList.add("radio-checked"),this.set3row2=s,i.target.ariaChecked="true";break}if("true"==i.target.ariaChecked){i.target.classList.remove("radio-checked"),this.set3row2="",i.target.ariaChecked="false";break}case"arts3":if("false"==i.target.ariaChecked){i.target.classList.add("radio-checked"),this.set3row3=s,i.target.ariaChecked="true";break}if("true"==i.target.ariaChecked){i.target.classList.remove("radio-checked"),this.set3row3="",i.target.ariaChecked="false";break}case"arts4":if("false"==i.target.ariaChecked){i.target.classList.add("radio-checked"),this.set3row4=s,i.target.ariaChecked="true";break}if("true"==i.target.ariaChecked){i.target.classList.remove("radio-checked"),this.set3row4="",i.target.ariaChecked="false";break}case"arts5":if("false"==i.target.ariaChecked){i.target.classList.add("radio-checked"),this.set3row5=s,i.target.ariaChecked="true";break}if("true"==i.target.ariaChecked){i.target.classList.remove("radio-checked"),this.set3row5="",i.target.ariaChecked="false";break}case"arts6":if("false"==i.target.ariaChecked){i.target.classList.add("radio-checked"),this.set3row6=s,i.target.ariaChecked="true";break}if("true"==i.target.ariaChecked){i.target.classList.remove("radio-checked"),this.set3row6="",i.target.ariaChecked="false";break}case"arts7":if("false"==i.target.ariaChecked){i.target.classList.add("radio-checked"),this.set3row7=s,i.target.ariaChecked="true";break}if("true"==i.target.ariaChecked){i.target.classList.remove("radio-checked"),this.set3row7="",i.target.ariaChecked="false";break}}}selStream(i,e){if(console.log(i,e.target.checked),e.target.checked){if(this.streams.length>0)for(var s=0;s<this.streams.length;s++){let e=this.streams[s];e==i&&(this.streams.splice(this.streams.indexOf(e),1),document.getElementById(i).style.display="none")}}else this.streams.push(i),document.getElementById(i).style.display="block"}applyForTheSchool(){let i=window.localStorage.getItem("user_details"),e=JSON.parse(i),s=e[0].id,l=e[0].s_name,o=e[0].s_sch_name,t=Number(e[0].s_first_lang_no)+Number(e[0].s_sec_lang_no)+Number(e[0].s_math_no)+Number(e[0].s_phy_sc_no)+Number(e[0].s_life_sc_no)+Number(e[0].s_history_no)+Number(e[0].s_geography_no),a=(t/7).toFixed(3);if(this.id&&s&&this.streams.length>0&&this.firstLang&&this.secLang)for(var n=0;n<this.streams.length;n++){let i=this.streams[n];if("science"==i){let e=0;if(this.set1row1&&(e+=1),this.set1row2&&(e+=1),this.set1row3&&(e+=1),this.set1row4&&(e+=1),this.set1row5&&(e+=1),this.set1row6&&(e+=1),4==e){let e={first_language:this.firstLang,second_language:this.secLang,others:(" "+this.set1row1+" "+this.set1row2+" "+this.set1row3+" "+this.set1row4+" "+this.set1row5+" "+this.set1row6).replace(/ undefined/gi,"")};this.sendRequest(e,s,l,o,t,a,i)}else this.presentToast("You have to chose 4 subjects")}else if("commerce"==i){let e=0;if(this.set2row1&&(e+=1),this.set2row2&&(e+=1),this.set2row3&&(e+=1),this.set2row4&&(e+=1),this.set2row5&&(e+=1),this.set2row6&&(e+=1),4==e){let e={first_language:this.firstLang,second_language:this.secLang,others:(" "+this.set2row1+" "+this.set2row2+" "+this.set2row3+" "+this.set2row4+" "+this.set2row5+" "+this.set2row6).replace(/ undefined/gi,"")};this.sendRequest(e,s,l,o,t,a,i)}}else if("arts"==i){let e=0;if(this.set3row1&&(e+=1),this.set3row2&&(e+=1),this.set3row3&&(e+=1),this.set3row4&&(e+=1),this.set3row5&&(e+=1),this.set3row6&&(e+=1),this.set3row7&&(e+=1),4==e){let e={first_language:this.firstLang,second_language:this.secLang,others:(" "+this.set3row1+" "+this.set3row2+" "+this.set3row3+" "+this.set3row4+" "+this.set3row5+" "+this.set3row6+" "+this.set3row7).replace(/ undefined/gi,"")};this.sendRequest(e,s,l,o,t,a,i)}}}else this.presentToast("Sorry can't process your request")}async sendRequest(i,e,s,l,o,t,a){let n={student_id:e.toString(),student_name:s,student_school:l,student_total:o,student_percent:t,school_id:this.id.toString(),stream:a,subjects:i},r=await fetch("http://104.43.21.203:1337/applicants",{method:"POST",body:JSON.stringify(n),headers:{"Content-Type":"application/json"}}),c=await r.json();console.log(c),this.presentToast(c&&c.id?"You application successfully received":"There is some error")}async presentToast(i){(await s.create({message:i,duration:2e3})).present()}logout(){window.localStorage.removeItem("user_details"),window.location.href="/"}render(){return[e("ion-content",null,e("div",{class:"header_sec"},e("ion-img",{src:"assets/icon/logo.png"}),e("h1",null,this.student_name),e("ion-button",{class:"log_out",onClick:()=>this.logout(),color:"secondary"},"Log Out"),e("img",{class:"sch_logo",src:this.logo}),e("div",{class:"search_sec"},e("ion-searchbar",{placeholder:"Search by school or student name"}),e("h2",null,"No pressure of form fillup. Hassle free admission"))),e("ion-card",{class:"main_body"},e("ion-grid",{class:"sub_sel"},e("h3",null,"Select Subjects"),e("ion-row",null,e("ion-col",{size:"3"},e("h4",null,"First Language")),e("ion-col",{size:"9",class:"lang_col"},e("ion-radio-group",null,this.resValue.first_language.map(i=>e("div",null,e("ion-radio",{slot:"start",onClick:e=>this.selSub(e,"firstLang",i)}),e("ion-label",null,i)))))),e("ion-row",null,e("ion-col",{size:"3"},e("h4",null,"Second Language")),e("ion-col",{size:"9",class:"lang_col"},e("ion-radio-group",null,this.resValue.second_language.map(i=>e("div",null,e("ion-radio",{slot:"start",onClick:e=>this.selSub(e,"secLang",i)}),e("ion-label",null,i)))))),e("ion-row",null,e("ion-list",{class:"select_stream"},e("h4",null,"Select Stream(select one or more)"),e("div",null,e("div",null,e("ion-checkbox",{slot:"start",onClick:i=>this.selStream("science",i)}),e("ion-label",null,"Science")),e("div",null,e("ion-checkbox",{slot:"start",onClick:i=>this.selStream("commerce",i)}),e("ion-label",null,"Commerce")),e("div",null,e("ion-checkbox",{slot:"start",onClick:i=>this.selStream("arts",i)}),e("ion-label",null,"Arts"))))),e("ion-row",{id:"science"},e("ion-col",{size:"3"},e("h4",null,"Science")),e("ion-col",{size:"9"},e("ion-row",null,e("ion-radio-group",null,this.resValue.set1.row1.map(i=>e("div",null,e("ion-radio",{slot:"start",onClick:e=>this.selSub(e,"science1",i)}),e("ion-label",null,i))))),e("ion-row",null,e("ion-radio-group",null,this.resValue.set1.row2.map(i=>e("div",null,e("ion-radio",{slot:"start",onClick:e=>this.selSub(e,"science2",i)}),e("ion-label",null,i))))),e("ion-row",null,e("ion-radio-group",null,this.resValue.set1.row3.map(i=>e("div",null,e("ion-radio",{slot:"start",onClick:e=>this.selSub(e,"science3",i)}),e("ion-label",null,i))))),e("ion-row",null,e("ion-radio-group",null,this.resValue.set1.row4.map(i=>e("div",null,e("ion-radio",{slot:"start",onClick:e=>this.selSub(e,"science4",i)}),e("ion-label",null,i))))),e("ion-row",null,e("ion-radio-group",null,this.resValue.set1.row5.map(i=>e("div",null,e("ion-radio",{slot:"start",onClick:e=>this.selSub(e,"science5",i)}),e("ion-label",null,i))))),e("ion-row",null,e("ion-radio-group",null,this.resValue.set1.row6.map(i=>e("div",null,e("ion-radio",{slot:"start",onClick:e=>this.selSub(e,"science6",i)}),e("ion-label",null,i))))))),e("ion-row",{id:"commerce"},e("ion-col",{size:"3"},e("h4",null,"Commerce")),e("ion-col",{size:"9"},e("ion-row",null,e("ion-radio-group",null,this.resValue.set2.row1.map(i=>e("div",null,e("ion-radio",{slot:"start",onClick:e=>this.selSub(e,"commerce1",i)}),e("ion-label",null,i))))),e("ion-row",null,e("ion-radio-group",null,this.resValue.set2.row2.map(i=>e("div",null,e("ion-radio",{slot:"start",onClick:e=>this.selSub(e,"commerce2",i)}),e("ion-label",null,i))))),e("ion-row",null,e("ion-radio-group",null,this.resValue.set2.row3.map(i=>e("div",null,e("ion-radio",{slot:"start",onClick:e=>this.selSub(e,"commerce3",i)}),e("ion-label",null,i))))),e("ion-row",null,e("ion-radio-group",null,this.resValue.set2.row4.map(i=>e("div",null,e("ion-radio",{slot:"start",onClick:e=>this.selSub(e,"commerce4",i)}),e("ion-label",null,i))))),e("ion-row",null,e("ion-radio-group",null,this.resValue.set2.row5.map(i=>e("div",null,e("ion-radio",{slot:"start",onClick:e=>this.selSub(e,"commerce5",i)}),e("ion-label",null,i))))),e("ion-row",null,e("ion-radio-group",null,this.resValue.set2.row6.map(i=>e("div",null,e("ion-radio",{slot:"start",onClick:e=>this.selSub(e,"commerce6",i)}),e("ion-label",null,i))))))),e("ion-row",{id:"arts"},e("ion-col",{size:"3"},e("h4",null,"Arts")),e("ion-col",{size:"9"},e("ion-row",null,e("ion-radio-group",null,this.resValue.set3.row1.map(i=>e("div",null,e("ion-radio",{slot:"start",onClick:e=>this.selSub(e,"arts1",i)}),e("ion-label",null,i))))),e("ion-row",null,e("ion-radio-group",null,this.resValue.set3.row2.map(i=>e("div",null,e("ion-radio",{slot:"start",onClick:e=>this.selSub(e,"arts2",i)}),e("ion-label",null,i))))),e("ion-row",null,e("ion-radio-group",null,this.resValue.set3.row3.map(i=>e("div",null,e("ion-radio",{slot:"start",onClick:e=>this.selSub(e,"arts3",i)}),e("ion-label",null,i))))),e("ion-row",null,e("ion-radio-group",null,this.resValue.set3.row4.map(i=>e("div",null,e("ion-radio",{slot:"start",onClick:e=>this.selSub(e,"arts4",i)}),e("ion-label",null,i))))),e("ion-row",null,e("ion-radio-group",null,this.resValue.set3.row5.map(i=>e("div",null,e("ion-radio",{slot:"start",onClick:e=>this.selSub(e,"arts5",i)}),e("ion-label",null,i))))),e("ion-row",null,e("ion-radio-group",null,this.resValue.set3.row6.map(i=>e("div",null,e("ion-radio",{slot:"start",onClick:e=>this.selSub(e,"arts6",i)}),e("ion-label",null,i))))),e("ion-row",null,e("ion-radio-group",{id:"arts7"},this.resValue.set3.row7.map(i=>e("div",null,e("ion-radio",{slot:"start",onClick:e=>this.selSub(e,"arts7",i)}),e("ion-label",null,i)))))))),e("ion-button",{expand:"full",onClick:()=>this.applyForTheSchool()},"Send Application")))]}};l.style="#middle_gap{width:45%}ion-img{width:100%}#science,#commerce,#arts{display:none}.select_stream div{display:-ms-inline-flexbox;display:inline-flex;margin-right:16px}.select_stream div ion-checkbox{margin:0;margin-right:3px}ion-radio-group{display:-ms-inline-flexbox;display:inline-flex}ion-radio-group div{margin:4px}ion-radio-group ion-label,.select_stream ion-label{font-size:17px;margin-left:3px}";export{l as app_application_section}